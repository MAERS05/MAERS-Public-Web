<!doctype html>
<html lang="zh-CN" style="background-color: #0a0a0a; color: #e0e0e0">

<head>
  <!-- 🔥 第一优先级：关键主题CSS，在任何其他内容之前定义 -->
  <script>
    // 1. 恢复缩放状态 (Index Only - Memory)
    try {
      if (localStorage.getItem("globalZoomState") === "true") {
        document.documentElement.classList.add("shrink-view");
      }
    } catch (e) { }
  </script>

  <style id="critical-theme-css">
    /* 🔥 最高优先级：立即强制深色背景 */
    html {
      background-color: #0a0a0a !important;
      color: #e0e0e0 !important;
    }

    /* 浅色主题覆盖 */
    html.light-mode {
      background-color: #ffffff !important;
      color: #1a1a1a !important;
    }

    /* body 继承背景色 */
    body {
      background-color: inherit !important;
      color: inherit !important;
      margin: 0;
      padding: 0;
    }

    /* 🔥 防闪烁遮罩 - 使用真实 div 元素 */
    #flash-guard {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      /* 🎨 同步 #theme-mask 的精确背景，防止色差跳变 */
      /* 🎨 同步 #theme-mask 的主色调，移除复杂纹理以减小体积 */
      background-color: #141417;
      z-index: 99999;
      pointer-events: none;
      /* 🎨 优化动画：0.15s */
      transition: opacity 0.15s;
    }

    html.light-mode #flash-guard {
      background-color: #f2f0eb;
      /* 浅色模式基础色 */
    }
  </style>

  <!-- 🔥 第二优先级：主题检测脚本 (精简版 - 逻辑已同步至 theme-init.js，但此处保留用于覆盖 index 特有的 mask 逻辑) -->
  <script src="custom/config.js"></script>
  <script src="dynamic-style/flash-guard.js"></script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="color-scheme" content="dark light" />
  <link rel="icon" type="image/svg+xml" href="ui/icon.svg" />
  <title>MAERS Space</title>

  <!-- 🚀 Resource Preloading -->
  <link rel="preload" href="static-style/theme.css" as="style" />
  <link rel="preload" href="static-style/components.css" as="style" />
  <link rel="dns-prefetch" href="https://api.bilibili.com" />

  <link rel="stylesheet" href="static-style/theme.css" />
  <link rel="stylesheet" href="static-style/components.css" />
  <link rel="stylesheet" href="static-style/style.css" />
  <script type="module" src="custom/index/viewer/index-viewer.module.js"></script>
  <link rel="stylesheet" href="custom/index/viewer/index.css" />
</head>

<body>
  <!-- 🔥 防闪烁遮罩 - 在页面内容渲染完成后会被移除 -->
  <div id="flash-guard"></div>
  <div class="home-container">
    <div class="brand-area">
      <img src="ui/index.svg" alt="Logo" class="brand-logo" id="brand-logo" />
      <div class="brand-title">
        <span class="maers-interactive" id="brand-maers">MAERS</span>
        <span class="maers-interactive" id="brand-space">SPACE</span>
      </div>
      <div class="brand-subtitle">Personal Knowledge & Creative Hub</div>
    </div>
    <div class="nav-grid">
      <div class="nav-card" id="nav-notes">
        <div class="card-bg-text">KNOW</div>
        <div class="card-icon">✒️</div>
        <div class="card-title">Notes</div>
        <div class="card-desc">Building a mental framework for learning.</div>
      </div>
      <div class="nav-card" id="nav-record">
        <div class="card-bg-text">IDEA</div>
        <div class="card-icon">💡</div>
        <div class="card-title">Record</div>
        <div class="card-desc">
          Recording resonance sentence and insights.
        </div>
      </div>
      <div class="nav-card" id="nav-literature">
        <div class="card-bg-text">BOOK</div>
        <div class="card-icon">📚</div>
        <div class="card-title">Literature</div>
        <div class="card-desc">
          Private bookshelf for golden lines and thoughts.
        </div>
      </div>
      <div class="nav-card" id="nav-album">
        <div class="card-bg-text">PHOT</div>
        <div class="card-icon">📸</div>
        <div class="card-title">Lens</div>
        <div class="card-desc">
          Personal visual photography archive album.
        </div>
      </div>
      <div class="nav-card" id="nav-music">
        <div class="card-bg-text">FLOW</div>
        <div class="card-icon">🎵</div>
        <div class="card-title">Music</div>
        <div class="card-desc">
          Personal playlist and rhythm. Listen to the vibe.
        </div>
      </div>
      <div class="nav-card" id="nav-games">
        <div class="card-bg-text">GAME</div>
        <div class="card-icon">🎮</div>
        <div class="card-title">Games</div>
        <div class="card-desc">
          Digital playground and interactive experiences.
        </div>
      </div>
    </div>
    <footer style="
          margin-top: 60px;
          color: var(--text-sub);
          font-size: 0.8rem;
          opacity: 0.6;
        ">
      &copy; 2026 Maers Personal Web. Powered by AI.
    </footer>
  </div>
</body>

</html>