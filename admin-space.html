<!DOCTYPE html>
<html lang="zh-CN" class="fixed-layout-page">

<head>
    <script src="shared/flash-guard.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Admin - MAERS</title>

    <link rel="preload" href="static-style/theme.css" as="style">
    <link rel="preload" href="static-style/components.css" as="style">

    <link rel="stylesheet" href="static-style/theme.css">
    <link rel="stylesheet" href="static-style/components.css">
    <link rel="stylesheet" href="static-style/style.css">
    <link rel="stylesheet" href="static-style/toast.css">
    <link rel="stylesheet" href="custom/space/viewer/space-viewer.css">
    <link rel="stylesheet" href="static-style/responsive.css">
    <link rel="stylesheet" href="custom/cms/viewer/cms-base.css">
    <link rel="stylesheet" href="custom/cms/viewer/cms-theme-default.css">

    <link rel="stylesheet" href="custom/space/admin/space-admin.css">

    <script type="module" src="shared/utils.module.js"></script>
    <script type="module" src="shared/style-injector.module.js"></script>
    <script type="module" src="shared/layout.module.js"></script>
    <script type="module">
        import { initTheme } from './shared/theme.module.js';
        initTheme();
    </script>
    <script type="module" src="shared/toast.module.js"></script>
    <style>
        /* Admin ä¸“ç”¨è°ƒæ•´ */
        .admin-actions {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            gap: 8px;
            opacity: 0;
            pointer-events: none;
            /* é»˜è®¤ç©¿é€ */
            transition: opacity 0.2s;
            z-index: 10;
        }

        .space-card:hover .admin-actions {
            opacity: 1;
            pointer-events: auto !important;
        }

        /* å¼ºåˆ¶æŒ‰é’®æœ¬èº«ä¹Ÿå¯äº¤äº’ */
        .admin-actions .maers-admin-btn,
        .admin-actions .action-btn {
            pointer-events: auto !important;
        }

        /* å¼ºåˆ¶ç¡®ä¿å¡ç‰‡æ˜¯ç›¸å¯¹å®šä½çš„ï¼Œä»¥å®¹çº³ admin-actions */
        /* å¼ºåˆ¶ç¡®ä¿å¡ç‰‡æ˜¯ç›¸å¯¹å®šä½çš„ï¼Œä»¥å®¹çº³ admin-actions */
        .space-card {
            position: relative !important;
            transition: all 0.2s;
        }

        /* é€‰ä¸­çŠ¶æ€ï¼ˆæ’åºç”¨ï¼‰ */
        .space-card.selected {
            border: 2px solid #78ffd6 !important;
            background: rgba(120, 255, 214, 0.08) !important;
            transform: scale(0.98);
            opacity: 1 !important;
        }

        /* åˆ é™¤æ ‡è®°çŠ¶æ€ */
        .space-card.deleted {
            filter: grayscale(100%);
            opacity: 0.4;
            transform: scale(0.9);
            border: 2px solid #ff4757 !important;
            pointer-events: none;
            /* é˜²æ­¢å†æ¬¡æ“ä½œ */
        }

        /* ä½†å…è®¸ç®¡ç†æŒ‰é’®æ“ä½œä»¥æ¢å¤ */
        .space-card.deleted .admin-actions {
            pointer-events: auto !important;
            filter: none;
            opacity: 1;
        }

        .space-card.deleted .admin-actions .maers-admin-btn {
            background: #ff4757;
            color: white;
        }

        /* åºå·æ˜¾ç¤º */
        .space-card[data-order-num]::before {
            content: attr(data-order-num);
            position: absolute;
            top: 8px;
            /* ç§»å…¥å¡ç‰‡å†…éƒ¨ */
            left: 8px;
            /* ç§»å…¥å¡ç‰‡å†…éƒ¨ */
            width: 24px;
            height: 24px;
            background: #78ffd6 !important;
            /* é’ç»¿è‰² */
            color: #000 !important;
            /* é»‘è‰²æ–‡å­— */
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 12px;
            z-index: 20;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }

        .func-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 200px;
            cursor: pointer;
            opacity: 0.6;
            transition: all 0.3s;
            border: 2px dashed var(--border-color);
            background: transparent !important;
        }

        .func-card:hover {
            opacity: 1;
            transform: translateY(-5px);
            border-color: var(--accent-color);
        }

        .func-icon {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        .func-text {
            font-size: 0.9rem;
            font-weight: 600;
            letter-spacing: 1px;
        }

        /* ä¿å­˜æŒ‰é’®æ‚¬æµ®çª— */
        #save-bar {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
        }
    </style>
</head>

<body>
    <!-- Save Bar Container -->
    <div id="save-bar" class="save-bar-container"></div>

    <div class="container">
        <div class="main-card">
            <!-- æ‰¾å› CMS é£æ ¼çš„ Explorer Header -->
            <div class="explorer-header">
                <div class="header-left">
                    <a href="admin-portal.html" class="back-btn">â† Back</a>
                    <div class="header-title"><img src="ui/space-icon.svg" alt="Space"
                            style="height: 1.25em; width: auto; vertical-align: middle;"> Other Spaces</div>
                </div>

                <!-- æ‰¾å› æœç´¢æ¡† -->
                <div class="search-box">
                    <input type="search" class="search-input" id="search-input" placeholder="æœç´¢ç½‘ç«™æ ‡é¢˜ã€æè¿°æˆ–æ ‡ç­¾...">
                </div>

                <div class="header-right">
                    <div class="header-tools-row">
                        <!-- æ‰¾å› æ ‡ç­¾æŒ‰é’® (ID: tag-toggle-btn) -->
                        <button class="tag-toggle-btn" id="tag-toggle-btn">ğŸ·ï¸ Tags</button>
                        <!-- æœ€è¿‘è®¿é—®æŒ‰é’®ä¼šç”± Recent æ¨¡å—è‡ªåŠ¨æ³¨å…¥æˆ–æˆ‘ä»¬é¢„ç•™ -->
                    </div>
                </div>
            </div>

            <div class="breadcrumb-bar" id="breadcrumb"></div>

            <div class="gallery-content">
                <div class="grid-layout" id="category-grid"></div>
            </div>
        </div>
    </div>

    <!-- æ‰¾å› Tag Drawer -->
    <div id="drawer-overlay" class="drawer-overlay"></div>
    <div id="tag-drawer" class="tag-drawer">
        <div class="drawer-header">
            <div class="drawer-title-row">
                <h3>Filter by Tags</h3>
                <button class="btn-close-drawer">Ã—</button>
            </div>
            <input type="search" id="tag-drawer-search" class="drawer-search-input" placeholder="æœç´¢æ ‡ç­¾...">
        </div>
        <div class="drawer-body" id="drawer-list"></div>
        <div class="drawer-footer">
            <button class="btn-clear-tags">Clear All Filters</button>
        </div>
    </div>

    <script type="module" src="custom/space/admin-main.module.js?v=20260207_fix"></script>
</body>

</html>